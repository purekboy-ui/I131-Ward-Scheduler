# (DEMO)碘131隔離病房排程管理系統 (I-131 Ward Scheduling System)
## 軟體規格說明書 (Software Requirements Specification)

### 1. 簡介 (Introduction)
本系統為專為核子醫學科設計之「碘131隔離病房排程管理系統」，旨在解決傳統紙本或 Excel 排程的效率低落與錯誤風險。透過視覺化的月曆介面、自動化的規則檢核與權限控管，提升排床效率並確保輻防安全。

---

### 2. 系統目標 (Objectives)
- **視覺化排程**：提供直觀的月曆介面，即時掌握病房 (5B/6B) 佔用狀況。
- **自動化檢核**：系統自動檢核開床日 (週二、週五)、國定假日與床位衝突。
- **權限分級**：區分管理員與一般使用者，確保資料安全性。
- **完整稽核**：記錄所有新增、修改、刪除操作，供日後追溯。

---

### 3. 使用者角色 (User Roles)

| 角色 | 權限描述 | 適用對象 |
| :--- | :--- | :--- |
| **系統管理員 (Admin)** | 擁有最高權限。可管理所有預約、設定開關床日期、管理使用者帳號、查看與匯出所有報表及稽核紀錄。 | 核醫科總技師、護理長 |
| **一般使用者 (User)** | 僅可新增/查看預約、編輯自己建立的預約。不可更動他人預約或系統設定。 | 臨床醫師、技術師 |

---

### 4. 功能需求 (Functional Requirements)

#### 4.1 登入與驗證 (Authentication)
- 系統採單一登入介面，無需跳轉。
- 支援帳號密碼驗證。
- **DEMO 帳號**：
  - 管理員：`admin / admin`
  - 使用者：`user / user`
- 逾時自動登出機制 (規劃中)。

#### 4.2 排程月曆 (Scheduling Calendar)
- **月曆顯示**：以月為單位，顯示每日 5B/6B 床位狀態。
- **狀態燈號**：
  - 🟢 **可預約**：當日有空床且為開床日。
  - 🟡 **部分佔用**：其中一床已被預約。
  - 🔴 **額滿**：兩床皆被預約。
  - ⚫ **關閉**：非開床日、國定假日或手動關閉。
- **快捷操作**：
  - 管理員點擊日期可開啟「日期管理 Modal」，各別開關床位。
  - Hover 預約顯示簡易資訊，右鍵點擊可叫出功能選單 (編輯/移動/刪除)。
- **近期空位**：置頂顯示最近 10 筆可預約之日期與床位。

#### 4.3 預約管理 (Booking Management)
- **預約建立**：僅能於「可預約」之日期/床位新增預約。
- **欄位需求**：入住日期、床位 (5B/6B)、病歷號、病患姓名、劑量 (mCi)、主治醫師 (手動輸入)。
- **規則檢核**：
  - 同一床位同一天不可重複預約。
  - 預設僅週二、週五開放，國定假日預設關閉。
- **修改/刪除**：
  - 一般使用者僅能修改/刪除「自己建立」的預約。
  - 管理員可修改/刪除所有預約。
- **拖曳移動**：支援拖曳或選單操作，將預約移動至其他空床日。

#### 4.4 報表中心 (Reports)
- 提供多種報表預覽與匯出 (Mock)：
  1. **月度入住統計表**：統計每月入住人次與佔床率。
  2. **碘131劑量統計表**：輻防申報用。
  3. **病患排程清單**：列印用排程表。
- 支援篩選條件：日期區間、主治醫師、劑量範圍。

#### 4.5 稽核紀錄 (Audit Logs)
- 記錄對系統資料造成變更的所有動作 (Create, Update, Delete, Override)。
- 紀錄內容包含：操作者、時間、動作類型、目標物件、詳細內容。
- 嵌入於月曆頁面下方，支援依日期區間篩選查詢。

#### 4.6 後台管理 (Admin Panel)
- **使用者管理**：
  - 新增/編輯使用者帳號。
  -設定角色 (Admin/User)。
  - 啟用/停用帳號權限。

---

### 5. 非功能需求 (Non-Functional Requirements)

#### 5.1 使用者介面 (UI/UX)
- **風格**：柔和、溫暖色調 (粉色/紫色系)，圓角設計，減少醫療系統的冰冷感。
- **RWD 響應式設計**：支援 Desktop、Tablet、Mobile 瀏覽。
- **互動回饋**：所有操作皆有 Toast 訊息提示 (成功/失敗/警告)。
- **Glassmorphism**：採用毛玻璃特效提升視覺質感。

#### 5.2 系統環境
- **前端架構**：純 HTML5 / CSS3 / JavaScript (Vanilla JS)。
- **不依賴框架**：無須編譯 (Build step)，輕量化部署。
- **資料儲存**：目前使用 Runtime Memory (Mock Data)，重整後資料會重置。

---

### 6. 未來擴充規劃 (Roadmap)
- [ ] 介接後端 API 與資料庫 (MySQL/PostgreSQL)。
- [ ] 整合 HIS 系統取得病患基本資料。
- [ ] Line Notify 自動通知功能。
- [ ] 輻射劑量自動計算與超標警示。

---

### 7. DEMO
https://purekboy-ui.github.io/I131-Ward-Scheduler/



---
*文件版本：v1.0*
*最後更新：2026-01-28*
