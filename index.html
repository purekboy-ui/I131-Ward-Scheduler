<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á¢ò131ÈöîÈõ¢ÁóÖÊàøÊéíÁ®ãÁÆ°ÁêÜÁ≥ªÁµ± | I-131 Scheduling</title>
    <meta name="description" content="Ê†∏ÈÜ´ÁßëÁ¢ò131ÈöîÈõ¢ÁóÖÊàøÊô∫ÊÖßÊéíÁ®ãÁÆ°ÁêÜÁ≥ªÁµ±ÔºåÊîØÊè¥5B/6BÂ∫ä‰ΩçÁÆ°ÁêÜ„ÄÅÈ†êÁ¥ÑÊéíÁ®ãËàáÂ†±Ë°®Ëº∏Âá∫">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-icon">
                <svg viewBox="0 0 100 100" class="atom-icon">
                    <circle cx="50" cy="50" r="8" fill="currentColor" />
                    <ellipse cx="50" cy="50" rx="45" ry="15" fill="none" stroke="currentColor" stroke-width="2"
                        class="orbit orbit-1" />
                    <ellipse cx="50" cy="50" rx="45" ry="15" fill="none" stroke="currentColor" stroke-width="2"
                        class="orbit orbit-2" />
                    <ellipse cx="50" cy="50" rx="45" ry="15" fill="none" stroke="currentColor" stroke-width="2"
                        class="orbit orbit-3" />
                </svg>
            </div>
            <h2>I-131 Ward Scheduler</h2>
            <div class="loading-bar"><span></span></div>
        </div>
    </div>

    <!-- Login Page - Single Column -->
    <div id="login-page" class="page login-page" style="display: none;">
        <div class="login-container-centered">
            <div class="login-card">
                <div class="login-logo">
                    <span class="logo-emoji">‚ò¢Ô∏è</span>
                </div>
                <div class="login-header">
                    <h2>Ê≠°ËøéÁôªÂÖ•Á¢ò131ÁóÖÊàøÊéíÁ®ãÁ≥ªÁµ±</h2>
                    <p>Ë´ãËº∏ÂÖ•ÊÇ®ÁöÑÂ∏≥ËôüÂØÜÁ¢º</p>
                </div>
                <form id="login-form" class="login-form">
                    <div class="input-group">
                        <label for="username">Â∏≥Ëôü</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                <circle cx="12" cy="7" r="4" />
                            </svg>
                            <input type="text" id="username" placeholder="Ë´ãËº∏ÂÖ•Â∏≥Ëôü" required>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="password">ÂØÜÁ¢º</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                            </svg>
                            <input type="password" id="password" placeholder="Ë´ãËº∏ÂÖ•ÂØÜÁ¢º" required>
                        </div>
                    </div>
                    <div class="login-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="remember">
                            <span class="checkmark"></span>
                            Ë®ò‰ΩèÊàë
                        </label>
                    </div>
                    <button type="submit" class="btn-primary btn-login">
                        <span>ÁôªÂÖ•Á≥ªÁµ±</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </button>
                </form>
                <div class="demo-hint">
                    <p>DEMO Â∏≥ËôüÔºö</p>
                    <code>admin / admin</code> Êàñ <code>user / user</code>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="page dashboard" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">‚ò¢Ô∏è</span>
                    <span class="logo-text">I-131 Ward</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-page="calendar">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                        <line x1="16" y1="2" x2="16" y2="6" />
                        <line x1="8" y1="2" x2="8" y2="6" />
                        <line x1="3" y1="10" x2="21" y2="10" />
                    </svg>
                    <span>ÊéíÁ®ãÊúàÊõÜ</span>
                </a>
                <a href="#" class="nav-item" data-page="bookings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                        <polyline points="14 2 14 8 20 8" />
                        <line x1="16" y1="13" x2="8" y2="13" />
                        <line x1="16" y1="17" x2="8" y2="17" />
                    </svg>
                    <span>È†êÁ¥ÑÁÆ°ÁêÜ</span>
                </a>
                <a href="#" class="nav-item" data-page="reports">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83" />
                        <path d="M22 12A10 10 0 0 0 12 2v10z" />
                    </svg>
                    <span>Â†±Ë°®‰∏≠ÂøÉ</span>
                </a>
                <a href="#" class="nav-item admin-only" data-page="admin">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                        <circle cx="9" cy="7" r="4" />
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                    </svg>
                    <span>ÂæåÂè∞ÁÆ°ÁêÜ</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar" id="user-avatar">A</div>
                    <div class="user-details">
                        <span class="user-name" id="user-name">Admin</span>
                        <span class="user-role" id="user-role">Á≥ªÁµ±ÁÆ°ÁêÜÂì°</span>
                    </div>
                </div>
                <button class="btn-logout" id="logout-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                        <polyline points="16 17 21 12 16 7" />
                        <line x1="21" y1="12" x2="9" y2="12" />
                    </svg>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <div class="header-left">
                    <button class="btn-menu" id="menu-toggle">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12" />
                            <line x1="3" y1="6" x2="21" y2="6" />
                            <line x1="3" y1="18" x2="21" y2="18" />
                        </svg>
                    </button>
                    <h1 class="page-title" id="page-title">ÊéíÁ®ãÊúàÊõÜ</h1>
                </div>
                <div class="header-right">
                    <div class="header-stats">
                        <div class="stat-item">
                            <span class="stat-label">‰ªäÊó•È†êÁ¥Ñ</span>
                            <span class="stat-value" id="today-bookings">2</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Êú¨ÊúàÁ∏ΩË®à</span>
                            <span class="stat-value" id="month-bookings">18</span>
                        </div>
                    </div>
                    <div class="header-date" id="header-date"></div>
                </div>
            </header>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Calendar Page -->
                <section id="calendar-page" class="content-page active">
                    <!-- Upcoming Available Slots -->
                    <div class="upcoming-slots">
                        <h3>üóìÔ∏è ÊúÄËøëÂèØÈ†êÁ¥ÑÊôÇÊÆµ</h3>
                        <div class="slots-list" id="upcoming-slots-list">
                            <!-- Generated by JS -->
                        </div>
                    </div>

                    <div class="calendar-header">
                        <div class="calendar-nav">
                            <button class="btn-icon" id="prev-month">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="15 18 9 12 15 6" />
                                </svg>
                            </button>
                            <h2 class="calendar-title" id="calendar-title">2026Âπ¥ 1Êúà</h2>
                            <button class="btn-icon" id="next-month">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6" />
                                </svg>
                            </button>
                        </div>
                        <div class="calendar-actions">
                            <button class="btn-today" id="today-btn">‰ªäÂ§©</button>
                        </div>
                    </div>
                    <div class="calendar-legend">
                        <div class="legend-item"><span class="legend-color available"></span>ÂèØÈ†êÁ¥Ñ</div>
                        <div class="legend-item"><span class="legend-color occupied-5b"></span>5B Â∑≤È†êÁ¥Ñ</div>
                        <div class="legend-item"><span class="legend-color occupied-6b"></span>6B Â∑≤È†êÁ¥Ñ</div>
                        <div class="legend-item"><span class="legend-color closed"></span>‰∏çÂèØÈ†êÁ¥Ñ</div>
                    </div>
                    <div class="calendar-grid">
                        <div class="calendar-weekdays">
                            <div class="weekday">ÈÄ±Êó•</div>
                            <div class="weekday">ÈÄ±‰∏Ä</div>
                            <div class="weekday highlight">ÈÄ±‰∫å</div>
                            <div class="weekday">ÈÄ±‰∏â</div>
                            <div class="weekday">ÈÄ±Âõõ</div>
                            <div class="weekday highlight">ÈÄ±‰∫î</div>
                            <div class="weekday">ÈÄ±ÂÖ≠</div>
                        </div>
                        <div class="calendar-days" id="calendar-days">
                            <!-- Calendar days will be generated by JS -->
                        </div>
                    </div>

                    <!-- Audit Logs Section (inside calendar page) -->
                    <div class="audit-section">
                        <div class="audit-header">
                            <h3>üìù Êìç‰ΩúÁ¥ÄÈåÑ</h3>
                            <div class="audit-filters">
                                <input type="date" id="log-start-date" title="Ëµ∑ÂßãÊó•Êúü">
                                <span>Ëá≥</span>
                                <input type="date" id="log-end-date" title="ÁµêÊùüÊó•Êúü">
                                <button class="btn-outline btn-search-log" id="search-logs-btn">Êü•Ë©¢</button>
                                <button class="btn-outline btn-reset-log" id="reset-logs-btn">ÈáçÁΩÆ</button>
                            </div>
                        </div>
                        <div class="audit-list" id="audit-list">
                            <!-- Generated by JS -->
                        </div>
                    </div>
                </section>

                <!-- Bookings Page -->
                <section id="bookings-page" class="content-page">
                    <div class="bookings-header">
                        <div class="search-bar">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8" />
                                <line x1="21" y1="21" x2="16.65" y2="16.65" />
                            </svg>
                            <input type="text" id="search-input" placeholder="ÊêúÂ∞ãÁóÖÊ≠∑Ëôü„ÄÅÂßìÂêç„ÄÅ‰∏ªÊ≤ªÈÜ´Â∏´...">
                        </div>
                    </div>
                    <div class="bookings-table-wrapper">
                        <table class="bookings-table">
                            <thead>
                                <tr>
                                    <th>ÂÖ•‰ΩèÊó•Êúü</th>
                                    <th>Â∫ä‰Ωç</th>
                                    <th>ÁóÖÊ≠∑Ëôü</th>
                                    <th>ÁóÖÊÇ£ÂßìÂêç</th>
                                    <th>ÂäëÈáè (mCi)</th>
                                    <th>‰∏ªÊ≤ªÈÜ´Â∏´</th>
                                    <th>Êìç‰Ωú</th>
                                </tr>
                            </thead>
                            <tbody id="bookings-tbody">
                                <!-- Bookings will be generated by JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Reports Page -->
                <section id="reports-page" class="content-page">
                    <div class="reports-grid">
                        <div class="report-card">
                            <div class="report-icon">üìä</div>
                            <h3>ÊúàÂ∫¶ÂÖ•‰ΩèÁµ±Ë®àË°®</h3>
                            <p>‰æùÊúà‰ªΩÁµ±Ë®àÂÖ•‰Ωè‰∫∫Êï∏„ÄÅÂ∫ä‰Ωç‰ΩøÁî®Áéá</p>
                            <div class="report-actions">
                                <button class="btn-outline">È†êË¶Ω</button>
                                <button class="btn-primary">‰∏ãËºâ Excel</button>
                            </div>
                        </div>
                        <div class="report-card">
                            <div class="report-icon">‚ò¢Ô∏è</div>
                            <h3>Á¢ò131ÂäëÈáèÁµ±Ë®àË°®</h3>
                            <p>ËºªÈò≤Áî≥Â†±Áî®ÂäëÈáèÁµ±Ë®àÂ†±Ë°®</p>
                            <div class="report-actions">
                                <button class="btn-outline">È†êË¶Ω</button>
                                <button class="btn-primary">‰∏ãËºâ PDF</button>
                            </div>
                        </div>
                        <div class="report-card">
                            <div class="report-icon">üìã</div>
                            <h3>ÁóÖÊÇ£ÊéíÁ®ãÊ∏ÖÂñÆ</h3>
                            <p>‰æùÊó•ÊúüÁØÑÂúçËº∏Âá∫ÊéíÁ®ãÊ∏ÖÂñÆ</p>
                            <div class="report-actions">
                                <button class="btn-outline">È†êË¶Ω</button>
                                <button class="btn-primary">‰∏ãËºâ Excel</button>
                            </div>
                        </div>
                    </div>
                    <div class="report-filter">
                        <h3>ÁØ©ÈÅ∏Ê¢ù‰ª∂</h3>
                        <div class="filter-row">
                            <div class="filter-group">
                                <label>Êó•ÊúüÁØÑÂúç</label>
                                <div class="date-range">
                                    <input type="date" id="report-start">
                                    <span>Ëá≥</span>
                                    <input type="date" id="report-end">
                                </div>
                            </div>
                            <div class="filter-group">
                                <label>‰∏ªÊ≤ªÈÜ´Â∏´</label>
                                <input type="text" id="report-doctor" placeholder="Ëº∏ÂÖ•ÈÜ´Â∏´ÂêçÁ®±">
                            </div>
                            <div class="filter-group">
                                <label>ÂäëÈáèÁØÑÂúç (mCi)</label>
                                <div class="range-inputs">
                                    <input type="number" placeholder="ÊúÄÂ∞è" id="dose-min">
                                    <span>-</span>
                                    <input type="number" placeholder="ÊúÄÂ§ß" id="dose-max">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Admin Page (User Management) -->
                <section id="admin-page" class="content-page">
                    <div class="admin-header">
                        <h3>‰ΩøÁî®ËÄÖÂ∏≥ËôüÁÆ°ÁêÜ</h3>
                        <button class="btn-primary" id="add-user-btn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19" />
                                <line x1="5" y1="12" x2="19" y2="12" />
                            </svg>
                            Êñ∞Â¢û‰ΩøÁî®ËÄÖ
                        </button>
                    </div>
                    <div class="admin-table-wrapper">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Â∏≥Ëôü</th>
                                    <th>ÂßìÂêç</th>
                                    <th>ËßíËâ≤</th>
                                    <th>ÁãÄÊÖã</th>
                                    <th>Êìç‰Ωú</th>
                                </tr>
                            </thead>
                            <tbody id="users-tbody">
                                <!-- Generated by JS -->
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Booking Modal -->
    <div id="booking-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Êñ∞Â¢ûÈ†êÁ¥Ñ</h3>
                <button class="btn-close" id="modal-close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <form id="booking-form" class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label>ÂÖ•‰ΩèÊó•Êúü</label>
                        <input type="date" id="booking-date" required>
                    </div>
                    <div class="form-group">
                        <label>Â∫ä‰ΩçÈÅ∏Êìá</label>
                        <div class="bed-selector">
                            <label class="bed-option">
                                <input type="radio" name="bed" value="5B" required>
                                <span class="bed-label">5B</span>
                            </label>
                            <label class="bed-option">
                                <input type="radio" name="bed" value="6B">
                                <span class="bed-label">6B</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>ÁóÖÊ≠∑Ëôü</label>
                        <input type="text" id="booking-chart" placeholder="‰æãÔºöA123456789" required>
                    </div>
                    <div class="form-group">
                        <label>ÁóÖÊÇ£ÂßìÂêç</label>
                        <input type="text" id="booking-name" placeholder="Ë´ãËº∏ÂÖ•ÂßìÂêç" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>ÊúçÁî®ÂäëÈáè (mCi)</label>
                        <input type="number" id="booking-dose" placeholder="‰æãÔºö100" required>
                    </div>
                    <div class="form-group">
                        <label>‰∏ªÊ≤ªÈÜ´Â∏´</label>
                        <input type="text" id="booking-doctor" placeholder="Ë´ãËº∏ÂÖ•ÈÜ´Â∏´ÂêçÁ®±" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>ÂÇôË®ª</label>
                    <textarea id="booking-notes" placeholder="ÈÅ∏Â°´"></textarea>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn-outline" id="modal-cancel">ÂèñÊ∂à</button>
                <button type="submit" form="booking-form" class="btn-primary">Á¢∫Ë™çÈ†êÁ¥Ñ</button>
            </div>
        </div>
    </div>

    <!-- Day Management Modal (Admin) -->
    <div id="day-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content day-modal-content">
            <div class="modal-header">
                <h3 id="day-modal-title">Êó•ÊúüÁÆ°ÁêÜ</h3>
                <button class="btn-close" id="day-modal-close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body day-modal-body">
                <div class="day-info" id="day-info"></div>
                <div class="day-beds-control" id="day-beds-control"></div>
                <div class="day-bookings-list" id="day-bookings-list"></div>
            </div>
        </div>
    </div>

    <!-- User Modal (Admin) -->
    <div id="user-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="user-modal-title">Êñ∞Â¢û‰ΩøÁî®ËÄÖ</h3>
                <button class="btn-close" id="user-modal-close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <form id="user-form" class="modal-body">
                <div class="form-group">
                    <label>Â∏≥Ëôü</label>
                    <input type="text" id="user-username" placeholder="Ë´ãËº∏ÂÖ•Â∏≥Ëôü" required>
                </div>
                <div class="form-group">
                    <label>ÂØÜÁ¢º</label>
                    <input type="password" id="user-password" placeholder="Ë´ãËº∏ÂÖ•ÂØÜÁ¢º">
                </div>
                <div class="form-group">
                    <label>ÂßìÂêç</label>
                    <input type="text" id="user-display-name" placeholder="Ë´ãËº∏ÂÖ•ÂßìÂêç" required>
                </div>
                <div class="form-group">
                    <label>ËßíËâ≤</label>
                    <select id="user-role-select" required>
                        <option value="user">‰∏ÄËà¨‰ΩøÁî®ËÄÖ</option>
                        <option value="admin">Á≥ªÁµ±ÁÆ°ÁêÜÂì°</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="checkbox-label inline-checkbox">
                        <input type="checkbox" id="user-active" checked>
                        <span class="checkmark"></span>
                        Â∏≥ËôüÂïüÁî®
                    </label>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn-outline" id="user-modal-cancel">ÂèñÊ∂à</button>
                <button type="submit" form="user-form" class="btn-primary">ÂÑ≤Â≠ò</button>
            </div>
        </div>
    </div>

    <!-- Context Menu for Calendar -->
    <div id="context-menu" class="context-menu">
        <button class="context-item" data-action="edit">‚úèÔ∏è Á∑®ËºØÈ†êÁ¥Ñ</button>
        <button class="context-item" data-action="move">üìÖ ÁßªÂãïÊó•Êúü</button>
        <button class="context-item delete" data-action="delete">üóëÔ∏è Âà™Èô§È†êÁ¥Ñ</button>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="app.js"></script>
</body>

</html>