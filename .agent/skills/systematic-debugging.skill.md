---
name: debugging
description: |
  ç³»çµ±åŒ–é™¤éŒ¯ Skillã€‚4 éšæ®µ Root Cause åˆ†æï¼šè§€å¯Ÿè¤‡è£½ã€å‡è¨­é©—è­‰ã€æ ¹æœ¬åŸå› ä¿®å¾©ã€é©—è­‰å›æ­¸ã€‚
  é‡åˆ°éŒ¯èª¤æˆ– Bug æ™‚è‡ªå‹•å•Ÿç”¨ï¼Œç¦æ­¢ç›²ç›®å˜—è©¦ã€‚
license: MIT
compatibility: Pixiu Agent / Claude Code / Cursor
metadata:
  author: pixiu
  version: "1.0"
  category: workflow
---

<!--
Source: https://github.com/obra/superpowers
Concept: Systematic Debugging (4-Phase Root Cause Process)
Audited By: Pixiu Agent
Date: 2026-01-30
-->

# ğŸ Systematic Debugging / ç³»çµ±åŒ–é™¤éŒ¯

ç•¶é‡åˆ°éŒ¯èª¤æˆ– Bug æ™‚ï¼Œ**ç¦æ­¢**ç›²ç›®å˜—è©¦ (Trial and Error)ã€‚å¿…é ˆéµå¾ªä»¥ä¸‹ 4 éšæ®µæµç¨‹ï¼š

## Phase 1: è§€å¯Ÿèˆ‡è¤‡è£½ (Observe & Reproduce)
ä¸è¦æ€¥è‘—ä¿®ï¼Œå…ˆç¢ºèªå•é¡Œç¯„åœã€‚
*   **é‡ç¾æ­¥é©Ÿ**ï¼šå»ºç«‹ä¸€å€‹æœ€å°å¯é‡ç¾ç¯„ä¾‹ (Minimal Reproducible Example)ã€‚
*   **ç¢ºèªç’°å¢ƒ**ï¼šæª¢æŸ¥ `node -v`, `php -v`, `docker ps`ï¼Œæ’é™¤ç’°å¢ƒå·®ç•°ã€‚
*   **æ”¶é›†æ—¥èªŒ**ï¼šä½¿ç”¨ `grep_search` æŸ¥æ‰¾ Error Log ä¸Šä¸‹æ–‡ã€‚

## Phase 2: å‡è¨­èˆ‡é©—è­‰ (Hypothesize & Verify)
*   **æå‡ºå‡è¨­**ï¼šåŸºæ–¼ Logï¼Œæå‡º 1-2 å€‹å¯èƒ½çš„æ ¹æœ¬åŸå› ã€‚
*   **é©—è­‰å‡è¨­**ï¼šå…ˆä¸æ”¹ Codeï¼Œè€Œæ˜¯åŠ å…¥ `console.log` æˆ– `dd()` ä¾†é©—è­‰è®Šæ•¸ç‹€æ…‹ã€‚
*   **ç¦æ­¢çŒœæ¸¬**ï¼šæ¯ä¸€å€‹å‡è¨­éƒ½å¿…é ˆæœ‰è­‰æ“šæ”¯æŒã€‚

## Phase 3: æ ¹æœ¬åŸå› ä¿®å¾© (Fix Root Cause)
*   **è²¼å¸ƒä¿®æ­£ (Band-aid)**ï¼šå¦‚æœåªæ˜¯åŠ å€‹ `if (x)` ä¾†é¿é–‹éŒ¯èª¤ï¼Œæ˜¯**ä¸å¯æ¥å—çš„**ã€‚
*   **æ ¹æœ¬ä¿®å¾©**ï¼šæ‰¾å‡ºç‚ºä½• `x` æœƒæ˜¯ç„¡æ•ˆå€¼ï¼Ÿæ˜¯ä¸Šæ¸¸è³‡æ–™éŒ¯èª¤ï¼Ÿé‚„æ˜¯ DB çµæ§‹å•é¡Œï¼Ÿ
*   **Defense in Depth**ï¼šåœ¨ä¿®å¾©çš„åŒæ™‚ï¼ŒåŠ å…¥é˜²ç¦¦æ€§ç¨‹å¼ç¢¼ (Assertions/Types)ã€‚

## Phase 4: é©—è­‰èˆ‡å›æ­¸ (Verify & Regress)
*   **é©—è­‰ä¿®å¾©**ï¼šåŸ·è¡Œ Phase 1 çš„é‡ç¾æ­¥é©Ÿï¼Œç¢ºèªéŒ¯èª¤æ¶ˆå¤±ã€‚
*   **é˜²æ­¢å›æ­¸**ï¼šæ–°å¢ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹ (Unit Test) ä¾†è¦†è“‹é€™å€‹ Bugï¼Œç¢ºä¿æœªä¾†ä¸æœƒå¾©ç™¼ã€‚

---

## å¸¸è¦‹é™¤éŒ¯ç­–ç•¥

### æ¢ä»¶å¼ç­‰å¾… (Condition-based Waiting)
åœ¨ç•°æ­¥æ“ä½œä¸­ï¼Œä¸è¦ç”¨ `sleep(5)`ï¼Œé€™æ˜¯ä¸ç©©å®šçš„ã€‚
**æ‡‰ä½¿ç”¨**ï¼š`await waitFor(() => element.isVisible())` æˆ–è¼ªè©¢æª¢æŸ¥ç‹€æ…‹ã€‚

### äºŒåˆ†æ³•æŸ¥æ‰¾ (Binary Search)
ç•¶æ‰¾ä¸åˆ° Bug å¼•å…¥é»æ™‚ï¼Œä½¿ç”¨ `git bisect` ä¾†å®šä½æ˜¯å“ªå€‹ Commit å£æ‰çš„ã€‚
